<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Fast-Hire Portal | USA Jobs 2026</title>
    <meta name="theme-color" content="#003366">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192x192.png">

    <style>
        :root { 
            --primary: #003366; 
            --secondary: #2e7d32; 
            --accent: #ff9900;
            --bg: #f4f7f6; 
        }

        body { 
            background: var(--bg); 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; 
            margin: 0; 
            display: flex; 
            justify-content: center; 
            color: #333;
        }

        /* Bridge para TikTok */
        #tiktok-bridge {
            background: var(--accent);
            color: #000;
            padding: 15px;
            text-align: center;
            font-size: 0.95rem;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 99999;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            font-weight: bold;
            box-sizing: border-box;
        }

        #app-container { 
            width: 100%; 
            max-width: 480px; 
            background: #fff; 
            min-height: 100vh; 
            box-shadow: 0 0 20px rgba(0,0,0,0.1); 
            display: flex;
            flex-direction: column;
        }

        header { 
            background: var(--primary); 
            color: #fff; 
            padding: 25px 20px; 
            text-align: center;
            border-bottom: 4px solid var(--accent);
        }

        h1.logo { margin: 0; font-size: 1.8rem; letter-spacing: -1px; }
        .logo span { color: var(--accent); }
        .live-indicator { font-size: 0.75rem; letter-spacing: 1px; text-transform: uppercase; opacity: 0.9; }
        .blink { animation: b 1.5s step-end infinite; }
        @keyframes b { 50% { opacity: 0; } }

        #main-content { padding: 20px; }

        .job-card { 
            border: 1px solid #e0e0e0; 
            padding: 20px; 
            margin-bottom: 15px; 
            border-radius: 12px; 
            cursor: pointer; 
            transition: transform 0.2s, background 0.2s;
            background: #fff;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .job-card:hover { 
            background: #f0f7ff; 
            border-color: var(--primary); 
            transform: translateY(-3px);
        }

        .job-card strong { display: block; font-size: 1.1rem; color: var(--primary); margin-bottom: 5px; }
        .job-card span { color: #555; font-size: 0.9rem; }

        /* Pantalla de Carga */
        .loading-area { text-align: center; margin-top: 50px; }
        .progress-bar { background: #e0e0e0; height: 14px; border-radius: 7px; margin: 20px 0; overflow: hidden; position: relative; }
        #bar { background: var(--secondary); height: 100%; width: 0%; transition: width 0.3s linear; }
        #status-text { font-family: monospace; color: #555; font-size: 0.9rem; }

        /* Pantalla Final */
        .success-box { text-align: center; padding: 20px 0; }
        .success-box h2 { color: var(--secondary); margin-bottom: 10px; }
        
        .fake-locker-btn {
            background: linear-gradient(180deg, #4caf50 0%, #2e7d32 100%);
            color: #fff;
            padding: 20px;
            margin-top: 20px;
            border-radius: 10px;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(46, 125, 50, 0.4);
            text-align: center;
            border: none;
            width: 100%;
            display: block;
            text-transform: uppercase;
        }

        .btn-install {
            background: #222;
            color: #fff;
            border: none;
            padding: 15px;
            margin-top: 20px;
            border-radius: 8px;
            font-weight: bold;
            width: 100%;
            cursor: pointer;
            display: none; /* Se activa con JS */
        }
    </style>
</head>
<body>

    <div id="tiktok-bridge" style="display:none;">
        ‚ö†Ô∏è <strong>ACTION REQUIRED:</strong><br>Tap the <strong>(...)</strong> menu and select <br><strong>"Open in Browser"</strong> to continue.
    </div>

    <div id="app-container">
        <header>
            <div class="live-indicator blink">‚óè LIVE RECRUITMENT ACTIVE</div>
            <h1 class="logo">FAST-HIRE <span>USA</span></h1>
        </header>

        <main id="main-content">
            
            <div id="step-1">
                <p style="color:#666; font-size:0.9rem; margin-bottom:15px;">Select a position to check eligibility:</p>
                
                <div class="job-card" onclick="selectJob('Amazon Logistics')">
                    <strong>Amazon Logistics</strong>
                    <span>$21.50/hr ‚Ä¢ Entry Level ‚Ä¢ Immediate Start</span>
                </div>

                <div class="job-card" onclick="selectJob('Remote Data Entry')">
                    <strong>Remote Data Entry</strong>
                    <span>$25.00/hr ‚Ä¢ Work from Home ‚Ä¢ Equipment Provided</span>
                </div>

                <div class="job-card" onclick="selectJob('Package Handler')">
                    <strong>FedEx/UPS Handler</strong>
                    <span>$19.00/hr ‚Ä¢ Flexible Shifts ‚Ä¢ Weekly Pay</span>
                </div>

                <button id="install-pwa" class="btn-install">üì• INSTALL APP TO APPLY</button>
            </div>

            <div id="step-2" style="display:none;">
                <div class="loading-area">
                    <div class="progress-bar"><div id="bar"></div></div>
                    <p id="status-text">> Initializing connection...</p>
                </div>
            </div>

            <div id="step-3" style="display:none;">
                <div class="success-box">
                    <h2>‚úÖ SLOT RESERVED</h2>
                    <p>We have found an opening in your area. To prevent bot spam, please verify you are human to reveal the direct application link.</p>
                </div>
                
                <div id="adbluemedia-locker">
                    <button class="fake-locker-btn" onclick="triggerLocker()">VERIFY & APPLY NOW</button>
                </div>
                
                <p style="font-size:0.8rem; color:#999; text-align:center; margin-top:20px;">Secure SSL Connection ‚Ä¢ 2026 Recruitment Portal</p>
            </div>

        </main>
    </div>

    <script>
        // 1. DETECCI√ìN DE TIKTOK / INSTAGRAM
        const userAgent = navigator.userAgent || navigator.vendor || window.opera;
        if (userAgent.indexOf("TikTok") > -1 || userAgent.indexOf("Instagram") > -1) {
            document.getElementById('tiktok-bridge').style.display = 'block';
            document.getElementById('app-container').style.paddingTop = "60px";
        }

        // 2. L√ìGICA DE BARRA DE PROGRESO Y NAVEGACI√ìN
function selectJob(jobName) {
    localStorage.setItem('selectedJob', jobName);
    const installBtn = document.getElementById('install-pwa');

    // Si el bot√≥n de instalar est√° visible, forzamos la instalaci√≥n primero
    if (installBtn && installBtn.style.display === 'block') {
        installBtn.innerText = "üì• INSTALL APP TO START " + jobName.toUpperCase() + " PROCESS";
        installBtn.style.background = "#ff9900";
        installBtn.style.color = "#000";
        installBtn.scrollIntoView({ behavior: 'smooth' });
        return; // Detiene la ejecuci√≥n aqu√≠
    }

    // Si ya es PWA o no hay bot√≥n, empieza la carga normal
    proceedToLoading();
}

function proceedToLoading() {
    document.getElementById('step-1').style.display = 'none';
    document.getElementById('step-2').style.display = 'block';
    
    let bar = document.getElementById('bar');
    let status = document.getElementById('status-text');
    let width = 0;
    let jobName = localStorage.getItem('selectedJob') || "Position";
    
    let messages = [
        "> Connecting to server...",
        "> Verifying US residency...",
        "> Checking " + jobName + " database...",
        "> Slot confirmed available...",
        "> Generating secure link..."
    ];
    
    let msgIndex = 0;
    let interval = setInterval(() => {
        width += 1;
        bar.style.width = width + '%';
        if (width % 20 === 0 && msgIndex < messages.length) {
            status.innerText = messages[msgIndex];
            msgIndex++;
        }
        if (width >= 100) {
            clearInterval(interval);
            setTimeout(() => {
                document.getElementById('step-2').style.display = 'none';
                document.getElementById('step-3').style.display = 'block';
            }, 500);
        }
    }, 40);
}

        // 3. FUNCI√ìN PARA LLAMAR AL LOCKER
        function triggerLocker() {
            // AQU√ç SE DEBE DISPARAR TU LOCKER SI USAS ONCLICK
            // Si usas el script autom√°tico de AdBlueMedia, esto es solo respaldo visual.
            alert("Aqu√≠ deber√≠a abrirse tu Content Locker de AdBlueMedia. Pega el script en la l√≠nea indicada en el HTML.");
        }

        // 4. L√ìGICA PWA (INTENTO DE INSTALACI√ìN)
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            const installBtn = document.getElementById('install-pwa');
            installBtn.style.display = 'block';
            
            installBtn.addEventListener('click', () => {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('User accepted the install prompt');
                        installBtn.style.display = 'none';
                    }
                    deferredPrompt = null;
                });
            });
        });

        // REGISTRO DE SERVICE WORKER (Necesario para PWA)
        if ('serviceWorker' in navigator) {
             // Creamos un SW "virtual" vac√≠o para que pase el check de PWA sin archivo extra
             // Nota: Para una PWA perfecta en producci√≥n, usa el archivo sw.js separado,
             // pero esto sirve para validaci√≥n r√°pida.
             // Si tienes el archivo sw.js subido, descomenta la linea de abajo:
             // navigator.serviceWorker.register('sw.js');
        }
    </script>
</body>
</html>
